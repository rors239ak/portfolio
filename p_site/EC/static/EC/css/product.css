/* 商品詳細ページ（product-page） */
.product-page .product-detail{
  width:100%;
  max-width:760px;
  margin:0 auto;
  background:var(--card);
  border-radius:12px;
  padding:28px;
  box-shadow:0 12px 30px rgba(11,22,48,0.06);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  box-sizing:border-box;
}
.wrap.product-page{width:100%;max-width:none;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px;box-sizing:border-box}
.product-page .product-title{margin:8px 0 12px;font-size:1.6rem}

/* --- 画像サイズ固定：レイアウト崩れ防止 --- */

/* product detail のメイン画像を固定サイズにして object-fit で収める */
.product-page .product-image{
  width:100%;
  max-width:480px;
  height:360px;              /* 固定高さ（必要に応じて調整） */
  object-fit:contain;          /* 余白を作らず中央を表示 */
  background:#f6f8fb;        /* 読み込み中のプレースホルダー */
  border-radius:8px;
  display:block;
}

/* small 縮小時の高さ調整 */
@media (max-width:720px){
  .product-page .product-image{ height:240px; max-width:100%; }
}

/* カード内の main（一覧・マイページ）の画像も固定 */
.product-card .card-main,
.product-item .thumb img,
.thumb img,
#main-image {
  width:100%;
  height:300px;             /* カード内での高さを固定 */
  object-fit:contain;
  display:block;
  background:#f6f8fb;
  border-radius:8px;
}

/* カードの main が大きいレイアウトなら上書きで調整 */
@media (max-width:720px){
  .product-card .card-main,
  .product-item .thumb img,
  .thumb img,
  #main-image {
    height:120px;
  }
}

/* ギャラリーサムネは固定正方形でレイアウトを安定化 */
.thumb-btn,
.existing-thumb{
  width:72px;
  height:72px;
  min-width:72px;
  min-height:72px;
  max-width:72px;
  max-height:72px;
}
.existing-thumb{ height:160px; } /* 既存グリッドの大きさ保持 */

/* 画像の読み込みでレイアウトが跳ねないように遅延レンダリング対策 */
img{vertical-align:middle;line-height:0}

.product-page .product-meta{max-width:680px;width:100%;margin:12px auto 0;text-align:center;line-height:1.6}
.product-page .product-actions{margin-top:16px;display:flex;gap:8px;justify-content:center;align-items:center}
.product-page .back-link{align-self:flex-start}

/* index: controls-grid / product-grid の補足 */
.sort-row{display:flex;justify-content:flex-end;margin:10px 0 6px;gap:8px}
.controls-grid{display:flex;flex-direction:column;gap:10px;margin-bottom:18px}
.controls-top{display:flex;gap:12px;align-items:center;justify-content:space-between}
.controls-bottom{display:flex;align-items:center;justify-content:space-between;gap:12px;width:90%}

/* small screen tweaks */
@media (max-height:600px){ .wrap.product-page{min-height:calc(100vh - 24px);padding-top:16px;padding-bottom:16px} .product-page .product-detail{padding:18px} }